{"version":3,"sources":["Components/Footer.js","Utils/InputTypingManager.js","Stores/ChatStore.js","Language.js","Theme.js","Utils/ActionScheduler.js","Stores/ApplicationStore.js","Constants.js","Components/Auth/SignInControl.js","Components/Auth/ConfirmCodeControl.js","Components/Auth/PasswordControl.js","Components/Auth/AuthErrorDialog.js","Components/Auth/AuthFormControl.js","Components/Additional/AppInactiveControl.js","InactivePage.js","StubPage.js","TelegramApp.js","index.js","Utils/Common.js","Controllers/TdLibController.js","Stores/OptionStore.js","registerServiceWorker.js","Stores/UserStore.js","Utils/HOC.js","Stores/LocalizationStore.js"],"names":["Footer","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","packageJson","version","React","PureComponent","InputTypingManager","chatId","timeoutCallback","Object","classCallCheck","this","actions","Map","timerId","handleTimer","bind","addAction","clearAction","setActionsTimeout","now","Date","expiredActions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_ref3","value","_ref2","slicedToArray","key","expire","push","err","return","_arr","_i","length","delete","update","@type","chat_id","action","userId","setSeconds","getSeconds","TYPING_INPUT_INTERVAL_S","set","clearTimeout","timeout","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_ref6","_ref5","actionTimeout","setTimeout","store","ChatStore","_this","possibleConstructorReturn","getPrototypeOf","call","onUpdate","state","updating","skippedUpdates","TdLibController","parameters","fastUpdating","emitUpdate","updates","emitFastUpdate","setOnlineMemberCount","online_member_count","chat","get","assign","order","draft_message","is_marked_as_unread","is_pinned","is_sponsored","last_message","notification_settings","photo","type","user","UserStore","user_id","profile_photo","last_read_inbox_message_id","unread_count","last_read_outbox_message_id","reply_markup_message_id","title","unread_mention_count","typingManager","getTypingManager","setTypingManager","onClientUpdate","emit","addTdLibListener","addListener","removeTdLibListener","removeListener","items","typingManagers","onlineMemberCount","setMaxListeners","Infinity","source1","source2","id","EventEmitter","window","withLanguage","WrappedComponent","LanguageWrapper","_React$Component","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","i18n","LocalizationStore","react_i18next__WEBPACK_IMPORTED_MODULE_6__","props","Component","displayName","concat","getDisplayName","withTheme","ThemeWrapper","onClientUpdateThemeChanging","primary","theme","createMuiTheme","palette","secondary","main","typography","useNextVariants","Cookies","setState","ApplicationStore","_ref","blue","on","_material_ui_styles_StylesProvider__WEBPACK_IMPORTED_MODULE_9__","injectFirst","_material_ui_core_styles_MuiThemeProvider__WEBPACK_IMPORTED_MODULE_8___default","ActionScheduler","actionCallback","cancelCallback","add","cancel","has","setMilliseconds","getMilliseconds","invoke","asyncToGenerator","regenerator_default","mark","_callee","item","wrap","_context","prev","abrupt","stop","_x","remove","_ref4","expired","_ref7","addScheduledAction","actionScheduler","invokeScheduledAction","removeScheduledAction","handleScheduledAction","console","log","handleCancelScheduledAction","authorizationState","authorization_state","loggingOut","sendTdParameters","send","init","document","connectionState","setNotificationSettings","scope","content","text","confirm","logOut","alert","extendedUpdate","nextChatId","nextMessageId","messageId","previousChatId","previousMessageId","dialogChatId","name","focused","inProgress","setChatId","onUpdateStatistics","statistics","count","addStatistics","getDragging","dragging","setDragging","scopeNotificationSettings","isChatDetailsVisible","mediaViewerContent","profileMediaViewerContent","visibility","notificationSettings","application","__webpack_require__","d","__webpack_exports__","ANIMATION_DURATION_200MS","ANIMATION_DURATION_300MS","CHAT_SLICE_LIMIT","LOCATION_HEIGHT","LOCATION_SCALE","LOCATION_WIDTH","LOCATION_ZOOM","MEDIA_SLICE_LIMIT","MESSAGE_SLICE_LIMIT","MUTED_VALUE_MAX","MUTED_VALUE_MIN","NOTIFICATIONS_DEBOUNCE_DELAY_MS","PHOTO_BIG_SIZE","PHOTO_DISPLAY_SIZE","PHOTO_DISPLAY_SMALL_SIZE","PHOTO_SIZE","PHOTO_THUMBNAIL_SIZE","POLL_QUESTION_LENGTH","POLL_QUESTION_HINT_LENGTH","POLL_QUESTION_MAX_LENGTH","POLL_OPTION_LENGTH","POLL_OPTION_HINT_LENGTH","POLL_OPTION_MAX_LENGTH","POLL_OPTIONS_MAX_COUNT","SERVICE_NOTIFICATIONS_USER_ID","STICKER_DISPLAY_SIZE","STICKER_PREVIEW_DISPLAY_SIZE","STICKER_SMALL_DISPLAY_SIZE","PROFILE_PHOTO_BIG_SIZE","PROFILE_PHOTO_SMALL_SIZE","TYPING_OUTPUT_INTERVAL_S","VERBOSITY_JS_MAX","VERBOSITY_JS_MIN","VERBOSITY_MAX","VERBOSITY_MIN","USERNAME_LENGTH_MIN","MAX_SNACK","NOTIFICATION_AUTO_HIDE_DURATION_MS","THUMBNAIL_BLURRED_SIZE","PRELOAD_AUDIO_SIZE","PRELOAD_ANIMATION_SIZE","PRELOAD_DOCUMENT_SIZE","PRELOAD_STICKER_SIZE","PRELOAD_VOICENOTE_SIZE","PRELOAD_VIDEO_SIZE","PRELOAD_VIDEONOTE_SIZE","THUMBNAIL_PRIORITY","FILE_PRIORITY","FIRST_START_OPTIMIZATIONS","PLAYER_VOLUME_NORMAL","PLAYER_STARTTIME","PLAYER_PLAYBACKRATE_NORMAL","PLAYER_PLAYBACKRATE_FAST","PLAYER_PROGRESS_TIMEOUT_MS","SignInControl","error","loading","handleUpdateOption","handleSuggestedLanguagePackId","languagePackId","OptionStore","language","loadLanguage","then","suggestedLanguage","handleNext","phone","phoneNumber","isValidPhoneNumber","openConfirmation","code","handleChange","event","target","handleKeyPress","preventDefault","handleDone","_this$props","onPhoneEnter","phone_number","result","catch","errorString","message","JSON","stringify","string","finally","handleChangeLanguage","clientUpdate","_this$props2","classes","t","_this$state","react_default","FormControl","fullWidth","TextField","color","disabled","Boolean","autoFocus","label","margin","onChange","onKeyPress","defaultValue","FormHelperText","Button","button","onClick","Typography","continueAtLanguage","Link","lng","enhance","compose","withTranslation","withStyles","fontWeight","textAlign","transform","ConfirmCodeControl","assertThisInitialized","handleBack","isValid","_this2","first_name","last_name","onChangePhone","isBad","match","replace","e","codeLength","codeInfo","getPhoneNumber","getCodeLength","subtitle","getSubtitle","formatPhoneNumber","maxLength","FormHelperText_default","buttonLeft","buttonRight","marginRight","marginTop","marginLeft","PasswordControl","handleMouseDownPassword","handleClickShowPassword","showPassword","password","passwordHint","classNames","textField","InputLabel","htmlFor","Input","endAdornment","InputAdornment","position","IconButton","aria-label","onMouseDown","VisibilityOff_default","Visibility_default","root","display","flexWrap","withoutLabel","spacing","unit","flexBasis","AuthErrorDialog","open","handleAuthError","handleClose","handleKeyDown","Dialog","transitionDuration","onKeyDown","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","AuthFormControl","handlePhoneEnter","control","Components_Auth_SignInControl","Components_Auth_ConfirmCodeControl","termsOfService","terms_of_service","code_info","Components_Auth_PasswordControl","password_hint","hasRecoveryEmailAddress","has_recovery_email_address","recoveryEmailAddressPattern","recovery_email_address_pattern","authorizationFormContent","Auth_AuthErrorDialog","background","default","AppInactiveControl","handleReload","Button_default","location","reload","InactivePage","Fragment","page","Components_Additional_AppInactiveControl","StubPage","MainPage","lazy","Promise","all","TelegramApp","checkServiceWorker","navigator","cookieEnabled","registerServiceWorker","onUpdateFatalError","fatalError","onUpdateAuthorizationState","hasFocus","onClientUpdateAppInactive","inactive","handleChangePhone","handleDragOver","stopPropagation","handleDrop","handleRefresh","handleDestroy","src_StubPage","src_InactivePage","Suspense","fallback","Components_Auth_AuthFormControl","onDragOver","onDrop","aria-describedby","keyMap","openPinnedChat","_callee2","index","chats","pinnedIndex","i","_context2","offset_order","offset_chat_id","limit","sent","chat_ids","addEventListener","size","altKey","ctrlKey","t0","getMyId","force","_x2","onblur","clear","onfocus","history","pushState","href","onpopstate","go","@global","dark","ReactDOM","render","react_router_dom","react_router","path","component","getElementById","getBrowser","getOSName","stringToBoolean","orderCompare","getSize","getPhotoThumbnailSize","getPhotoSize","getFitSize","itemsInView","throttle","debounce","getLetters","readImageSize","arrayBufferToBase64","isAuthorizationReady","between","getDurationString","getRandomInt","libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__","_Constants__WEBPACK_IMPORTED_MODULE_1__","OSName","userAgent","indexOf","isEdge","documentMode","StyleMedia","toLowerCase","trim","order1","order2","diff","sizes","dimension","useWidth","width","height","Math","abs","local","is_downloading_completed","currDiff","max","increaseToMax","floor","scrollContainerRef","itemsContainerRef","scrollContainer","current","itemsContainer","children","child","offsetTop","offsetHeight","scrollTop","func","wait","options","context","args","previous","later","leading","remaining","trailing","immediate","callNow","getFirstLetter","str","toUpperCase","split","file","callback","reader","FileReader","image","Image","photoWidth","photoHeight","src","readAsDataURL","number","unformattedNumber","startsWith","formatNumber","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","btoa","first","last","secondsTotal","hours","minutes","seconds","min","ceil","random","controller","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","setParameters","_this$parameters","verbosity","jsVerbosity","useTestDC","readOnly","useDatabase","logVerbosityLevel","jsLogVerbosityLevel","mode","prefix","isBackground","client","TdClient","disableLog","search","params","URLSearchParams","parseInt","tag","tagVerbosity","request","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","apiHash","process","use_test_dc","api_id","api_hash","system_language_code","device_model","system_version","application_version","use_secret_chats","use_message_database","use_file_database","database_directory","files_directory","new_verbosity_level","option","isLocalhost","hostname","register","_register","swUrl","URL","origin","registerValidSW","checkValidServiceWorker","registration","serviceWorker","onupdatefound","installingWorker","installing","onstatechange","subscribeNotifications","_callee3","pushSubscription","endpoint","p256dh_base64url","auth_base64url","_context3","pushManager","getSubscription","unsubscribe","subscribe","userVisibleOnly","getKey","device_token","other_user_ids","_callee4","response","_context4","fetch","status","headers","ready","unregister","_update","_callee6","_context6","setFullInfo","user_full_info","fullInfoItems","myId","fullInfo","withSaveRef","forwardRef","ref","react__WEBPACK_IMPORTED_MODULE_6___default","forwardedRef","withRestoreRef","_class","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","rest","_Users_evgeny_telegram_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","defaultNamespace","use","initReactI18next","ns","defaultNS","fallbackNS","resources","en","DeletedMessage","YourPhone","StartText","Next","InvalidPhoneNumber","More","SendMessage","ChatInfo","ChannelInfo","emoji","Search","NotEmojiFound","ChooseDefaultSkinTone","SearchResults","Recent","SmileysPeople","AnimalsNature","FoodDrink","Activity","TravelPlaces","Objects","Symbols","Flags","Custom","translation","AppName","Loading","Connecting","Updating","ru","fallbackLng","interpolation","escapeValue","react","cache","LocalStorageBackend","enabled","expirationTime","translationDefaultLng","read","data","translationCurrentLng","addResourceBundle","only_local","info","_language","language_pack_id","keys","processStrings","save","changeLanguage","languagePackStrings","strings","_x3","localization"],"mappings":"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","file":"static/js/main.44720e2a.chunk.js","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport packageJson from '../../package.json';\nimport './Footer.css'\n\nclass Footer extends React.PureComponent {\n    render() {\n        return (\n            <div className='footer-wrapper'>\n                <span>\n                    {packageJson.version}\n                </span>\n            </div>\n        );\n    }\n}\n\nexport default Footer;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { TYPING_INPUT_INTERVAL_S } from '../Constants';\n\nclass InputTypingManager {\n    constructor(chatId, timeoutCallback) {\n        this.actions = new Map();\n        this.timerId = null;\n        this.chatId = chatId;\n        this.timeoutCallback = timeoutCallback;\n\n        this.handleTimer = this.handleTimer.bind(this);\n        this.addAction = this.addAction.bind(this);\n        this.clearAction = this.clearAction.bind(this);\n        this.setActionsTimeout = this.setActionsTimeout.bind(this);\n    }\n\n    handleTimer() {\n        let now = new Date();\n        let expiredActions = [];\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout <= 0) expiredActions.push(key);\n        }\n\n        for (let key of expiredActions) {\n            this.actions.delete(key);\n        }\n\n        let update = {\n            '@type': 'updateUserChatAction',\n            chat_id: this.chatId,\n            action: { '@type': 'chatActionTimerUpdate' }\n        };\n\n        this.timeoutCallback(update);\n        // ChatStore.emit('updateUserChatAction', update);\n\n        this.setActionsTimeout();\n    }\n\n    addAction(userId, action) {\n        let expire = new Date();\n        expire.setSeconds(expire.getSeconds() + TYPING_INPUT_INTERVAL_S);\n\n        this.actions.set(userId, { expire: expire, action: action });\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setActionsTimeout();\n    }\n\n    setActionsTimeout() {\n        let now = new Date();\n        let timeout = 1000000;\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout < timeout) timeout = actionTimeout;\n            if (timeout < 0) timeout = 0;\n        }\n\n        if (timeout < 1000000) {\n            this.timerId = setTimeout(this.handleTimer, timeout);\n        }\n    }\n\n    clearAction(userId) {\n        this.actions.delete(userId);\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setActionsTimeout();\n    }\n}\n\nexport default InputTypingManager;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport InputTypingManager from '../Utils/InputTypingManager';\nimport UserStore from './UserStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass ChatStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n        this.typingManagers = new Map();\n        this.onlineMemberCount = new Map();\n        this.skippedUpdates = [];\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateConnectionState': {\n                if (update.state['@type'] === 'connectionStateUpdating') {\n                    this.updating = true;\n                    this.skippedUpdates = [];\n                } else {\n                    this.updating = false;\n                    if (this.skippedUpdates.length > 0) {\n                        TdLibController.parameters.fastUpdating = false;\n                        this.emitUpdate({\n                            '@type': 'clientUpdateFastUpdatingComplete',\n                            updates: this.skippedUpdates\n                        });\n                        this.skippedUpdates = [];\n                    }\n                }\n                break;\n            }\n            case 'updateChatDefaultDisableNotification': {\n                //TODO: handle updateChatDefaultDisableNotification\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatOnlineMemberCount': {\n                this.setOnlineMemberCount(update.chat_id, update.online_member_count);\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatDraftMessage': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        draft_message: update.draft_message\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsMarkedAsUnread': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        is_marked_as_unread: update.is_marked_as_unread\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsPinned': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        is_pinned: update.is_pinned\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatIsSponsored': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        is_sponsored: update.is_sponsored\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatLastMessage': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        order: update.order === '0' ? chat.order : update.order,\n                        last_message: update.last_message\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatNotificationSettings': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        notification_settings: update.notification_settings\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatOrder': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { order: update.order });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatPhoto': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { photo: update.photo });\n\n                    switch (chat.type['@type']) {\n                        case 'chatTypeBasicGroup': {\n                            break;\n                        }\n                        case 'chatTypeSupergroup': {\n                            break;\n                        }\n                        case 'chatTypePrivate':\n                        case 'chatTypeSecret': {\n                            const user = UserStore.get(chat.type.user_id);\n                            if (user) {\n                                UserStore.assign(user, { profile_photo: update.photo });\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReadInbox': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        last_read_inbox_message_id: update.last_read_inbox_message_id,\n                        unread_count: update.unread_count\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReadOutbox': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        last_read_outbox_message_id: update.last_read_outbox_message_id\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatReplyMarkup': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        reply_markup_message_id: update.reply_markup_message_id\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatTitle': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, { title: update.title });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateChatUnreadMentionCount': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        unread_mention_count: update.unread_mention_count\n                    });\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateNewChat': {\n                this.set(update.chat);\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateSecretChat': {\n                //TODO: handle updateSecretChat\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateUnreadChatCount': {\n                //TODO: handle updateUnreadChatCount\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateUserChatAction': {\n                let typingManager = this.getTypingManager(update.chat_id);\n                if (!typingManager) {\n                    typingManager = new InputTypingManager(update.chat_id, update => this.emitUpdate(update));\n                    this.setTypingManager(update.chat_id, typingManager);\n                }\n\n                const key = update.user_id;\n                if (update.action['@type'] === 'chatActionCancel') {\n                    typingManager.clearAction(key);\n                } else {\n                    typingManager.addAction(key, update.action);\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            case 'updateMessageMentionRead': {\n                const chat = this.get(update.chat_id);\n                if (chat) {\n                    this.assign(chat, {\n                        unread_mention_count: update.unread_mention_count\n                    });\n\n                    //chat.unread_mention_count = update.unread_mention_count;\n                }\n\n                this.emitFastUpdate(update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateClearHistory': {\n                this.emitUpdate(update);\n                break;\n            }\n            case 'clientUpdateLeaveChat': {\n                this.emitUpdate(update);\n                break;\n            }\n            case 'clientUpdateOpenChat': {\n                this.emitUpdate(update);\n                break;\n            }\n        }\n    };\n\n    emitUpdate = update => {\n        this.emit(update['@type'], update);\n    };\n\n    emitFastUpdate = update => {\n        if (this.updating && TdLibController.parameters.fastUpdating) {\n            this.skippedUpdates.push(update);\n            return;\n        }\n\n        this.emit(update['@type'], update);\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    assign(source1, source2) {\n        //Object.assign(source1, source2);\n        this.set(Object.assign({}, source1, source2));\n    }\n\n    get(chatId) {\n        return this.items.get(chatId);\n    }\n\n    set(chat) {\n        this.items.set(chat.id, chat);\n    }\n\n    setOnlineMemberCount(chatId, onlineMemberCount) {\n        this.onlineMemberCount.set(chatId, onlineMemberCount);\n    }\n\n    getOnlineMemberCount(chatId) {\n        return this.onlineMemberCount.get(chatId) || 0;\n    }\n\n    getTypingManager(chatId) {\n        return this.typingManagers.get(chatId);\n    }\n\n    setTypingManager(chatId, typingManager) {\n        return this.typingManagers.set(chatId, typingManager);\n    }\n}\n\nconst store = new ChatStore();\nwindow.chat = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { getDisplayName } from './Utils/HOC';\nimport LocalizationStore from './Stores/LocalizationStore';\n\nfunction withLanguage(WrappedComponent) {\n    class LanguageWrapper extends React.Component {\n        render() {\n            const i18n = LocalizationStore.i18n;\n\n            return (\n                <I18nextProvider i18n={i18n}>\n                    <WrappedComponent {...this.props} />\n                </I18nextProvider>\n            );\n        }\n    }\n    LanguageWrapper.displayName = `WithLanguage(${getDisplayName(WrappedComponent)})`;\n\n    return LanguageWrapper;\n}\n\nexport default withLanguage;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport blue from '@material-ui/core/colors/blue';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport StylesProvider from '@material-ui/styles/StylesProvider';\nimport { getDisplayName } from './Utils/HOC';\nimport Cookies from 'universal-cookie';\nimport ApplicationStore from './Stores/ApplicationStore';\n\nfunction withTheme(WrappedComponent) {\n    class ThemeWrapper extends React.Component {\n        constructor(props) {\n            super(props);\n\n            const cookies = new Cookies();\n            const { type, primary } = cookies.get('themeOptions') || { type: 'light', primary: blue };\n\n            let theme = createMuiTheme({\n                palette: {\n                    type: type,\n                    primary: primary,\n                    secondary: { main: '#FF5555' }\n                },\n                typography: {\n                    useNextVariants: true\n                }\n            });\n\n            this.state = {\n                theme: theme\n            };\n        }\n\n        componentDidMount() {\n            ApplicationStore.on('clientUpdateThemeChanging', this.onClientUpdateThemeChanging);\n        }\n\n        componentWillUnmount() {\n            ApplicationStore.removeListener('clientUpdateThemeChanging', this.onClientUpdateThemeChanging);\n        }\n\n        onClientUpdateThemeChanging = update => {\n            const { type, primary } = update;\n\n            const theme = createMuiTheme({\n                palette: {\n                    type: type,\n                    primary: primary,\n                    secondary: { main: '#FF5555' },\n                    typography: {\n                        useNextVariants: true\n                    }\n                }\n            });\n\n            const cookies = new Cookies();\n            cookies.set('themeOptions', { type: type, primary: primary });\n\n            this.setState({ theme: theme }, () => ApplicationStore.emit('clientUpdateThemeChange'));\n        };\n\n        render() {\n            const { theme } = this.state;\n\n            return (\n                <StylesProvider injectFirst>\n                    <MuiThemeProvider theme={theme}>\n                        <WrappedComponent {...this.props} />\n                    </MuiThemeProvider>\n                </StylesProvider>\n            );\n        }\n    }\n    ThemeWrapper.displayName = `WithTheme(${getDisplayName(WrappedComponent)})`;\n\n    return ThemeWrapper;\n}\n\nexport default withTheme;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nclass ActionScheduler {\n    constructor(actionCallback, cancelCallback) {\n        this.actions = new Map();\n        this.actionCallback = actionCallback;\n        this.cancelCallback = cancelCallback;\n    }\n\n    add = (key, timeout, action, cancel) => {\n        if (this.actions.has(key)) {\n            return false;\n        }\n\n        let expire = new Date();\n        expire.setMilliseconds(expire.getMilliseconds() + timeout);\n\n        this.actions.set(key, { expire: expire, action: action, cancel: cancel });\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n\n        return true;\n    };\n\n    invoke = async key => {\n        const item = this.actions.get(key);\n        if (!item) return;\n\n        this.actions.delete(key);\n\n        await this.actionCallback({ key: key, action: item.action, cancel: item.cancel });\n        if (item.action) await item.action();\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n    };\n\n    remove = key => {\n        const item = this.actions.get(key);\n        if (!item) return;\n\n        this.actions.delete(key);\n\n        this.cancelCallback({ key: key, action: item.action, cancel: item.cancel });\n        if (item.cancel) item.cancel();\n\n        if (this.timerId) {\n            clearTimeout(this.timerId);\n        }\n\n        this.setTimeout();\n    };\n\n    setTimeout = () => {\n        let now = new Date();\n        let timeout = 1000000;\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout < timeout) timeout = actionTimeout;\n            if (timeout < 0) timeout = 0;\n        }\n\n        if (timeout < 1000000) {\n            this.timerId = setTimeout(this.handleTimer, timeout);\n        }\n    };\n\n    handleTimer = () => {\n        let now = new Date();\n        let expired = [];\n        for (let [key, value] of this.actions) {\n            let actionTimeout = value.expire - now;\n            if (actionTimeout <= 0) expired.push({ key: key, value: value });\n        }\n\n        for (let item of expired) {\n            this.actions.delete(item.key);\n            this.actionCallback({ key: item.key, action: item.value.action, cancel: item.value.cancel });\n            if (item.value.action) item.value.action();\n        }\n\n        this.setTimeout();\n    };\n}\n\nexport default ActionScheduler;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport TdLibController from '../Controllers/TdLibController';\nimport ActionScheduler from '../Utils/ActionScheduler';\n\nclass ApplicationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.chatId = 0;\n        this.dialogChatId = 0;\n        this.messageId = null;\n        this.statistics = new Map();\n        this.scopeNotificationSettings = new Map();\n        this.authorizationState = null;\n        this.connectionState = null;\n        this.isChatDetailsVisible = false;\n        this.mediaViewerContent = null;\n        this.profileMediaViewerContent = null;\n        this.dragging = false;\n        this.actionScheduler = new ActionScheduler(this.handleScheduledAction, this.handleCancelScheduledAction);\n\n        this.addTdLibListener();\n        this.addStatistics();\n        this.setMaxListeners(Infinity);\n    }\n\n    addScheduledAction = (key, timeout, action, cancel) => {\n        return this.actionScheduler.add(key, timeout, action, cancel);\n    };\n\n    invokeScheduledAction = async key => {\n        await this.actionScheduler.invoke(key);\n    };\n\n    removeScheduledAction = key => {\n        this.actionScheduler.remove(key);\n    };\n\n    handleScheduledAction = item => {\n        console.log('Invoked scheduled action key=', item.key);\n    };\n\n    handleCancelScheduledAction = item => {\n        console.log('Cancel scheduled action key=', item.key);\n    };\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                this.authorizationState = update.authorization_state;\n\n                switch (update.authorization_state['@type']) {\n                    case 'authorizationStateLoggingOut':\n                        this.loggingOut = true;\n                        break;\n                    case 'authorizationStateWaitTdlibParameters':\n                        TdLibController.sendTdParameters();\n                        break;\n                    case 'authorizationStateWaitEncryptionKey':\n                        TdLibController.send({ '@type': 'checkDatabaseEncryptionKey' });\n                        break;\n                    case 'authorizationStateWaitPhoneNumber':\n                        break;\n                    case 'authorizationStateWaitCode':\n                        break;\n                    case 'authorizationStateWaitPassword':\n                        break;\n                    case 'authorizationStateReady':\n                        this.loggingOut = false;\n                        break;\n                    case 'authorizationStateClosing':\n                        break;\n                    case 'authorizationStateClosed':\n                        if (!this.loggingOut) {\n                            document.title += ': Zzz…';\n                            this.emit('clientUpdateAppInactive');\n                        } else {\n                            TdLibController.init();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateConnectionState': {\n                this.connectionState = update.state;\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateScopeNotificationSettings': {\n                this.setNotificationSettings(update.scope['@type'], update.notification_settings);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateFatalError': {\n                this.emit(update['@type'], update);\n\n                break;\n            }\n            case 'updateServiceNotification': {\n                const { type, content } = update;\n\n                if (!content) return;\n                if (content['@type'] === 'messageText') {\n                    const { text } = content;\n                    if (!text) return;\n\n                    if (text['@type'] === 'formattedText' && text.text) {\n                        switch (type) {\n                            case 'AUTH_KEY_DROP_DUPLICATE':\n                                let result = window.confirm(text.text);\n                                if (result) {\n                                    TdLibController.logOut();\n                                }\n                                break;\n                            default:\n                                alert(text.text);\n                                break;\n                        }\n                    }\n                }\n\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateChatId': {\n                const extendedUpdate = {\n                    '@type': 'clientUpdateChatId',\n                    nextChatId: update.chatId,\n                    nextMessageId: update.messageId,\n                    previousChatId: this.chatId,\n                    previousMessageId: this.messageId\n                };\n\n                this.chatId = update.chatId;\n                this.messageId = update.messageId;\n\n                this.emit('clientUpdateChatId', extendedUpdate);\n                break;\n            }\n            case 'clientUpdateDialogChatId': {\n                const { chatId } = update;\n                this.dialogChatId = chatId;\n\n                this.emit('clientUpdateDialogChatId', update);\n                break;\n            }\n            case 'clientUpdateFocusWindow': {\n                TdLibController.send({\n                    '@type': 'setOption',\n                    name: 'online',\n                    value: { '@type': 'optionValueBoolean', value: update.focused }\n                });\n\n                this.emit('clientUpdateFocusWindow', update);\n                break;\n            }\n            case 'clientUpdateForward': {\n                this.emit('clientUpdateForward', update);\n                break;\n            }\n            case 'clientUpdateLeaveChat': {\n                if (update.inProgress && this.chatId === update.chatId) {\n                    TdLibController.setChatId(0);\n                }\n\n                break;\n            }\n        }\n    };\n\n    onUpdateStatistics = update => {\n        if (!update) return;\n\n        if (this.statistics.has(update['@type'])) {\n            const count = this.statistics.get(update['@type']);\n\n            this.statistics.set(update['@type'], count + 1);\n        } else {\n            this.statistics.set(update['@type'], 1);\n        }\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    addStatistics = () => {\n        TdLibController.addListener('update', this.onUpdateStatistics);\n    };\n\n    setChatId = (chatId, messageId = null) => {\n        const update = {\n            '@type': 'clientUpdateChatId',\n            nextChatId: chatId,\n            nextMessageId: messageId,\n            previousChatId: this.chatId,\n            previousMessageId: this.messageId\n        };\n\n        this.chatId = chatId;\n        this.messageId = messageId;\n        this.emit(update['@type'], update);\n    };\n\n    getChatId() {\n        return this.chatId;\n    }\n\n    getMessageId() {\n        return this.messageId;\n    }\n\n    searchChat(chatId) {\n        this.emit('clientUpdateSearchChat', { chatId: chatId });\n    }\n\n    changeChatDetailsVisibility(visibility) {\n        this.isChatDetailsVisible = visibility;\n        this.emit('clientUpdateChatDetailsVisibility', visibility);\n    }\n\n    setMediaViewerContent(content) {\n        this.mediaViewerContent = content;\n        this.emit('clientUpdateMediaViewerContent', content);\n    }\n\n    setProfileMediaViewerContent(content) {\n        this.profileMediaViewerContent = content;\n        this.emit('clientUpdateProfileMediaViewerContent', content);\n    }\n\n    getConnectionState() {\n        return this.connectionState;\n    }\n\n    getAuthorizationState() {\n        return this.authorizationState;\n    }\n\n    getNotificationSettings(scope) {\n        return this.scopeNotificationSettings.get(scope);\n    }\n\n    setNotificationSettings(scope, notificationSettings) {\n        return this.scopeNotificationSettings.set(scope, notificationSettings);\n    }\n\n    getDragging = () => {\n        return this.dragging;\n    };\n\n    setDragging = value => {\n        this.dragging = value;\n        this.emit('clientUpdateDragging', value);\n    };\n\n    assign(source1, source2) {\n        Object.assign(source1, source2);\n        //this.set(Object.assign({}, source1, source2));\n    }\n}\n\nconst store = new ApplicationStore();\nwindow.application = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport const ANIMATION_FRAME_DURATION_MS = 40;\nexport const ANIMATION_DURATION_200MS = 200;\nexport const ANIMATION_DURATION_300MS = 300;\nexport const CHAT_SLICE_LIMIT = 25;\nexport const LOCATION_HEIGHT = 150;\nexport const LOCATION_SCALE = 2;\nexport const LOCATION_WIDTH = 300;\nexport const LOCATION_ZOOM = 16;\nexport const MEDIA_SLICE_LIMIT = 20;\nexport const MESSAGE_SLICE_LIMIT = 20;\nexport const MUTED_VALUE_MAX = 2147483647; // int32.max = 2^32 - 1\nexport const MUTED_VALUE_MIN = 0;\nexport const NOTIFICATIONS_DEBOUNCE_DELAY_MS = 500;\nexport const PHOTO_BIG_SIZE = 1280;\nexport const PHOTO_DISPLAY_SIZE = 260;\nexport const PHOTO_DISPLAY_SMALL_SIZE = 65;\nexport const PHOTO_SIZE = 320;\nexport const PHOTO_THUMBNAIL_SIZE = 90;\nexport const POLL_QUESTION_LENGTH = 255;\nexport const POLL_QUESTION_HINT_LENGTH = POLL_QUESTION_LENGTH - 79;\nexport const POLL_QUESTION_MAX_LENGTH = POLL_QUESTION_LENGTH + 99;\nexport const POLL_OPTION_LENGTH = 100;\nexport const POLL_OPTION_HINT_LENGTH = POLL_OPTION_LENGTH - 29;\nexport const POLL_OPTION_MAX_LENGTH = POLL_OPTION_LENGTH + 99;\nexport const POLL_OPTIONS_MAX_COUNT = 10;\nexport const SERVICE_NOTIFICATIONS_USER_ID = 777000;\nexport const STICKER_DISPLAY_SIZE = 192;\nexport const STICKER_PREVIEW_DISPLAY_SIZE = 256;\nexport const STICKER_SMALL_DISPLAY_SIZE = 64;\nexport const PROFILE_PHOTO_BIG_SIZE = 640;\nexport const PROFILE_PHOTO_SMALL_SIZE = 160;\nexport const TYPING_INPUT_INTERVAL_S = 8;\nexport const TYPING_OUTPUT_INTERVAL_S = 8;\nexport const VERBOSITY_JS_MAX = 20;\nexport const VERBOSITY_JS_MIN = 0;\nexport const VERBOSITY_MAX = 20;\nexport const VERBOSITY_MIN = 0;\nexport const USERNAME_LENGTH_MIN = 5;\nexport const MAX_SNACK = 10;\nexport const NOTIFICATION_AUTO_HIDE_DURATION_MS = 5000;\nexport const THUMBNAIL_BLURRED_SIZE = 320;\nexport const PRELOAD_AUDIO_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_ANIMATION_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_DOCUMENT_SIZE = 200 * 1024;\nexport const PRELOAD_STICKER_SIZE = 10 * 200 * 1024;\nexport const PRELOAD_VOICENOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const PRELOAD_VIDEO_SIZE = 10 * 1024 * 1024;\nexport const PRELOAD_VIDEONOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\nexport const THUMBNAIL_PRIORITY = 32;\nexport const FILE_PRIORITY = 1;\nexport const FIRST_START_OPTIMIZATIONS = true;\nexport const PLAYER_VOLUME_NORMAL = 0.25;\nexport const PLAYER_STARTTIME = 0.0;\nexport const PLAYER_PLAYBACKRATE_NORMAL = 1.0;\nexport const PLAYER_PLAYBACKRATE_FAST = 1.75;\nexport const PLAYER_PROGRESS_TIMEOUT_MS = 250;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'recompose';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { isValidPhoneNumber } from '../../Utils/Common';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport OptionStore from '../../Stores/OptionStore';\nimport LocalizationStore from '../../Stores/LocalizationStore';\nimport TdLibController from '../../Controllers/TdLibController';\nimport './SignInControl.css';\n\nconst styles = {\n    button: {\n        margin: '16px 0 0 0'\n    },\n    phone: {\n        fontWeight: 'bold',\n        textAlign: 'center'\n    },\n    continueAtLanguage: {\n        transform: 'translateY(100px)',\n        textAlign: 'center'\n    }\n};\n\nclass SignInControl extends React.Component {\n    state = {\n        error: null,\n        loading: false\n    };\n\n    componentDidMount() {\n        this.handleSuggestedLanguagePackId();\n\n        OptionStore.on('updateOption', this.handleUpdateOption);\n    }\n\n    componentWillUnmount() {\n        OptionStore.removeListener('updateOption', this.handleUpdateOption);\n    }\n\n    handleUpdateOption = update => {\n        const { name } = update;\n\n        if (name === 'suggested_language_pack_id') {\n            this.handleSuggestedLanguagePackId();\n        }\n    };\n\n    handleSuggestedLanguagePackId = () => {\n        const { i18n } = this.props;\n        if (!i18n) return;\n\n        const languagePackId = OptionStore.get('suggested_language_pack_id');\n        if (!languagePackId) return;\n\n        const { value } = languagePackId;\n        if (value === i18n.language) {\n            this.setState({ suggestedLanguage: null });\n            return;\n        }\n\n        LocalizationStore.loadLanguage(value).then(() => {\n            this.setState({ suggestedLanguage: value });\n        });\n    };\n\n    handleNext = () => {\n        const { phone } = this.props;\n\n        const phoneNumber = this.phoneNumber || phone;\n\n        if (isValidPhoneNumber(phoneNumber)) {\n            this.setState({ error: null, openConfirmation: true });\n        } else {\n            this.setState({ error: { code: 'InvalidPhoneNumber' } });\n        }\n    };\n\n    handleChange = event => {\n        this.phoneNumber = event.target.value;\n    };\n\n    handleKeyPress = event => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            this.handleNext();\n        }\n    };\n\n    handleDone = () => {\n        const { phone, onPhoneEnter } = this.props;\n\n        const phoneNumber = this.phoneNumber || phone;\n        if (!isValidPhoneNumber(phoneNumber)) {\n            this.setState({ error: { code: 'InvalidPhoneNumber' } });\n            return;\n        }\n\n        onPhoneEnter(phoneNumber);\n        this.setState({ error: null, loading: true });\n        TdLibController.send({\n            '@type': 'setAuthenticationPhoneNumber',\n            phone_number: phoneNumber\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: { string: errorString } });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    handleChangeLanguage = () => {\n        const { i18n } = this.props;\n        const { suggestedLanguage } = this.state;\n\n        if (!i18n) return;\n        if (!suggestedLanguage) return;\n\n        this.setState({ suggestedLanguage: i18n.language });\n\n        TdLibController.clientUpdate({ '@type': 'clientUpdateLanguageChange', language: suggestedLanguage });\n    };\n\n    render() {\n        const { phone, classes, t } = this.props;\n        const { loading, error, suggestedLanguage } = this.state;\n\n        let errorString = '';\n        if (error) {\n            const { code, string } = error;\n            if (code) {\n                errorString = t(code);\n            } else {\n                errorString = string;\n            }\n        }\n\n        return (\n            <FormControl fullWidth>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>{t('YourPhone')}</span>\n                </div>\n                <div>{t('StartText')}</div>\n                <TextField\n                    color='primary'\n                    disabled={loading}\n                    error={Boolean(errorString)}\n                    fullWidth\n                    autoFocus\n                    id='phoneNumber'\n                    label=''\n                    margin='normal'\n                    onChange={this.handleChange}\n                    onKeyPress={this.handleKeyPress}\n                    defaultValue={phone}\n                />\n                <FormHelperText id='sign-in-error-text'>{errorString}</FormHelperText>\n                <div className='sign-in-actions'>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        disabled={loading}\n                        className={classes.button}\n                        onClick={this.handleDone}>\n                        {t('Next')}\n                    </Button>\n                    <Typography className={classes.continueAtLanguage}>\n                        <Link onClick={this.handleChangeLanguage}>\n                            {Boolean(suggestedLanguage) ? t('ContinueOnThisLanguage', { lng: suggestedLanguage }) : ' '}\n                        </Link>\n                    </Typography>\n                </div>\n            </FormControl>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(SignInControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport './ConfirmCodeControl.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport { formatPhoneNumber } from '../../Utils/Common';\nimport FormHelperText from '@material-ui/core/FormHelperText/FormHelperText';\nimport TdLibController from '../../Controllers/TdLibController';\n\nconst styles = {\n    buttonLeft: {\n        marginRight: '8px',\n        marginTop: '16px'\n    },\n    buttonRight: {\n        marginLeft: '8px',\n        marginTop: '16px'\n    }\n};\n\nclass ConfirmCodeControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: '',\n            loading: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n        this.handleDone = this.handleDone.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n    }\n\n    handleNext() {\n        if (this.code && this.isValid(this.code)) {\n            this.setState({ error: '' });\n            this.handleDone();\n        } else {\n            this.setState({ error: 'Invalid code. Please try again.' });\n        }\n    }\n\n    handleDone() {\n        const code = this.code;\n\n        this.setState({ loading: true });\n        TdLibController.send({\n            '@type': 'checkAuthenticationCode',\n            code: code,\n            first_name: 'A',\n            last_name: 'B'\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: errorString });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    }\n\n    handleBack() {\n        this.props.onChangePhone();\n    }\n\n    isValid(code) {\n        let isBad = !code.match(/^[\\d\\-+\\s]+$/);\n        if (!isBad) {\n            code = code.replace(/\\D/g, '');\n            if (code.length !== 5) {\n                isBad = true;\n            }\n        }\n\n        return !isBad;\n    }\n\n    handleChange(e) {\n        this.code = e.target.value;\n\n        if (this.code && this.codeLength > 0 && this.code.length === this.codeLength) {\n            this.handleNext();\n        }\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleNext();\n        }\n    }\n\n    getPhoneNumber(codeInfo) {\n        if (!codeInfo) return null;\n        return codeInfo.phone_number;\n    }\n\n    getCodeLength(codeInfo) {\n        if (!codeInfo) return 0;\n        if (!codeInfo.type) return 0;\n\n        switch (codeInfo.type['@type']) {\n            case 'authenticationCodeTypeCall': {\n                return codeInfo.type.length;\n            }\n            case 'authenticationCodeTypeFlashCall': {\n                return 0;\n            }\n            case 'authenticationCodeTypeSms': {\n                return codeInfo.type.length;\n            }\n            case 'authenticationCodeTypeTelegramMessage': {\n                return codeInfo.type.length;\n            }\n        }\n\n        return 0;\n    }\n\n    getSubtitle(codeInfo) {\n        if (!codeInfo) return 'Subtitle';\n        if (!codeInfo.type) return 'Subtitle';\n\n        switch (codeInfo.type['@type']) {\n            case 'authenticationCodeTypeCall': {\n                return 'Telegram dialed your number';\n            }\n            case 'authenticationCodeTypeFlashCall': {\n                return 'Telegram dialed your number';\n            }\n            case 'authenticationCodeTypeSms': {\n                return 'We have sent you a message with activation code to your phone. Please enter it below.';\n            }\n            case 'authenticationCodeTypeTelegramMessage': {\n                return \"Please enter the code you've just received in your previous Telegram app.\";\n            }\n        }\n\n        return 'Subtitle';\n    }\n\n    render() {\n        const { loading, error } = this.state;\n        const { classes, codeInfo } = this.props;\n\n        this.phoneNumber = this.getPhoneNumber(codeInfo);\n        this.codeLength = this.getCodeLength(codeInfo);\n        const subtitle = this.getSubtitle(codeInfo);\n\n        const title = this.phoneNumber ? formatPhoneNumber(this.phoneNumber) : 'Your Code';\n\n        return (\n            <FormControl fullWidth>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>{title}</span>\n                </div>\n                <div>{subtitle}</div>\n                <TextField\n                    color='primary'\n                    disabled={loading}\n                    error={Boolean(error)}\n                    fullWidth\n                    autoFocus\n                    label='Your code'\n                    margin='normal'\n                    maxLength={this.codeLength > 0 ? this.codeLength : 256}\n                    onChange={this.handleChange}\n                    onKeyPress={this.handleKeyPress}\n                />\n                <FormHelperText id='confirm-code-error-text'>{error}</FormHelperText>\n                <div className='authorization-actions'>\n                    <Button fullWidth className={classes.buttonLeft} onClick={this.handleBack} disabled={loading}>\n                        Back\n                    </Button>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        className={classes.buttonRight}\n                        onClick={this.handleNext}\n                        disabled={loading}>\n                        Next\n                    </Button>\n                </div>\n            </FormControl>\n        );\n    }\n}\n\nexport default withStyles(styles)(ConfirmCodeControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Button from '@material-ui/core/Button';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TdLibController from '../../Controllers/TdLibController';\nimport './PasswordControl.css';\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap'\n    },\n    margin: {\n        margin: '16px 0 8px 0'\n    },\n    withoutLabel: {\n        marginTop: theme.spacing.unit * 3\n    },\n    textField: {\n        flexBasis: 200\n    },\n    buttonLeft: {\n        marginRight: '8px',\n        marginTop: '16px'\n    },\n    buttonRight: {\n        marginLeft: '8px',\n        marginTop: '16px'\n    }\n});\n\nclass PasswordControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password: '',\n            showPassword: false,\n            error: ''\n        };\n\n        this.handleClickShowPassword = this.handleClickShowPassword.bind(this);\n        this.handleMouseDownPassword = this.handleMouseDownPassword.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.handleBack = this.handleBack.bind(this);\n        this.handleNext = this.handleNext.bind(this);\n        this.handleDone = this.handleDone.bind(this);\n    }\n\n    handleNext() {\n        if (this.password) {\n            this.setState({ error: '' });\n            this.handleDone();\n        } else {\n            this.setState({ error: 'Invalid password. Please try again.' });\n        }\n    }\n\n    handleBack() {\n        this.props.onChangePhone();\n    }\n\n    handleDone() {\n        const password = this.password;\n\n        this.setState({ loading: true });\n        TdLibController.send({\n            '@type': 'checkAuthenticationPassword',\n            password: password\n        })\n            .then(result => {})\n            .catch(error => {\n                let errorString = null;\n                if (error && error['@type'] === 'error' && error.message) {\n                    errorString = error.message;\n                } else {\n                    errorString = JSON.stringify(error);\n                }\n\n                this.setState({ error: errorString });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    }\n\n    handleMouseDownPassword = event => {\n        event.preventDefault();\n    };\n\n    handleClickShowPassword = () => {\n        this.setState({ showPassword: !this.state.showPassword });\n    };\n\n    handleChange(e) {\n        this.password = e.target.value;\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleNext();\n        }\n    }\n\n    render() {\n        const { loading, error, showPassword } = this.state;\n        const { passwordHint, classes } = this.props;\n\n        return (\n            <div>\n                <div className='authorization-header'>\n                    <span className='authorization-header-content'>Cloud Password Check</span>\n                </div>\n                <div>Please enter your cloud password.</div>\n                <FormControl fullWidth className={classNames(classes.margin, classes.textField)}>\n                    <InputLabel htmlFor='adornment-password' error={error}>\n                        Your cloud password\n                    </InputLabel>\n                    <Input\n                        fullWidth\n                        autoFocus\n                        id='adornment-password'\n                        type={showPassword ? 'text' : 'password'}\n                        disabled={loading}\n                        error={Boolean(error)}\n                        onChange={this.handleChange}\n                        onKeyPress={this.handleKeyPress}\n                        endAdornment={\n                            <InputAdornment position='end'>\n                                <IconButton\n                                    aria-label='Toggle password visibility'\n                                    onClick={this.handleClickShowPassword}\n                                    onMouseDown={this.handleMouseDownPassword}>\n                                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                                </IconButton>\n                            </InputAdornment>\n                        }\n                    />\n                </FormControl>\n                {passwordHint && (\n                    <FormHelperText id='password-hint-text'>\n                        <span className='password-hint-label'>Hint: </span>\n                        {passwordHint}\n                    </FormHelperText>\n                )}\n                <FormHelperText id='password-error-text'>{error}</FormHelperText>\n                <div className='authorization-actions'>\n                    <Button fullWidth className={classes.buttonLeft} onClick={this.handleBack} disabled={loading}>\n                        Back\n                    </Button>\n                    <Button\n                        fullWidth\n                        color='primary'\n                        className={classes.buttonRight}\n                        onClick={this.handleNext}\n                        disabled={loading}>\n                        Next\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(PasswordControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TdLibController from '../../Controllers/TdLibController';\n\nclass AuthErrorDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false,\n            error: null\n        };\n\n        this.handleAuthError = this.handleAuthError.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n\n    componentDidMount() {\n        TdLibController.on('tdlib_auth_error', this.handleAuthError);\n    }\n\n    componentWillUnmount() {\n        TdLibController.removeListener('tdlib_auth_error', this.handleAuthError);\n    }\n\n    handleAuthError(error) {\n        this.setState({\n            open: true,\n            error: error\n        });\n    }\n\n    handleClose() {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleKeyDown(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleClose();\n        }\n    }\n\n    render() {\n        let errorString = null;\n        if (this.state.error && this.state.error['@type'] === 'error' && this.state.error.message) {\n            errorString = this.state.error.message;\n        } else {\n            errorString = JSON.stringify(this.state.error);\n        }\n\n        return (\n            <Dialog\n                transitionDuration={0}\n                open={this.state.open}\n                onKeyDown={this.handleKeyDown}\n                onClose={this.handleClose}\n                aria-labelledby='form-dialog-title'>\n                <DialogTitle id='form-dialog-title'>Error</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>{errorString}</DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleClose} color='primary'>\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nexport default AuthErrorDialog;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport classNames from 'classnames';\nimport SignInControl from './SignInControl';\nimport ConfirmCodeControl from './ConfirmCodeControl';\nimport PasswordControl from './PasswordControl';\nimport AuthErrorDialog from './AuthErrorDialog';\nimport './AuthFormControl.css';\n\nconst styles = theme => ({\n    button: {\n        margin: '20px'\n    },\n    authorizationFormContent: {\n        background: theme.palette.background.default,\n        color: theme.palette.text.primary\n    }\n});\n\nclass AuthFormControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.phone = null;\n\n        this.handlePhoneEnter = this.handlePhoneEnter.bind(this);\n    }\n\n    handlePhoneEnter(phone) {\n        this.phone = phone;\n    }\n\n    render() {\n        const { classes, authorizationState } = this.props;\n\n        let control = null;\n        switch (authorizationState['@type']) {\n            case 'authorizationStateWaitPhoneNumber':\n                // control = (\n                //     <>\n                //         <SignInControl phone={this.phone} onPhoneEnter={this.handlePhoneEnter}/>\n                //         <ConfirmCodeControl phone={this.phone} onCodeEnter={this.handleCodeEnter} onChangePhone={this.handleChangePhone}/>\n                //         <PasswordControl passwordHint='hint' onPasswordEnter={this.handlePasswordEnter} onChangePhone={this.handleChangePhone}/>\n                //         <SignUpControl/>\n                //     </>);\n                control = <SignInControl phone={this.phone} onPhoneEnter={this.handlePhoneEnter} />;\n                break;\n            case 'authorizationStateWaitCode':\n                control = (\n                    <ConfirmCodeControl\n                        termsOfService={authorizationState.terms_of_service}\n                        codeInfo={authorizationState.code_info}\n                        onChangePhone={this.props.onChangePhone}\n                    />\n                );\n                break;\n            case 'authorizationStateWaitPassword':\n                control = (\n                    <PasswordControl\n                        passwordHint={authorizationState.password_hint}\n                        hasRecoveryEmailAddress={authorizationState.has_recovery_email_address}\n                        recoveryEmailAddressPattern={authorizationState.recovery_email_address_pattern}\n                        onChangePhone={this.props.onChangePhone}\n                    />\n                );\n                break;\n            default:\n                break;\n        }\n\n        return (\n            <div className='sign-in-wrap'>\n                <div className={classNames(classes.authorizationFormContent, 'authorization-form-content')}>\n                    {control}\n                </div>\n                <AuthErrorDialog />\n            </div>\n        );\n    }\n}\nexport default withStyles(styles)(AuthFormControl);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button/Button';\nimport './AppInactiveControl.css';\n\nclass AppInactiveControl extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    static handleReload() {\n        window.location.reload();\n    }\n\n    render() {\n        return (\n            <div className='app-inactive'>\n                <div className='app-inactive-wrapper'>\n                    <a className='app-inactive-image' onClick={AppInactiveControl.handleReload} />\n                    <h3 className='app-inactive-title'>Such error, many tabs</h3>\n                    <div className='app-inactive-description'>\n                        Telegram supports only one active tab with the app.\n                        <br />\n                        Please reload this page to continue using this tab or close it.\n                    </div>\n                    <div className='app-inactive-actions'>\n                        <Button color='primary' onClick={AppInactiveControl.handleReload}>\n                            Reload app\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AppInactiveControl;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport AppInactiveControl from './Components/Additional/AppInactiveControl';\nimport Footer from './Components/Footer';\n\nconst styles = theme => ({\n    page: {\n        background: theme.palette.type === 'dark' ? theme.palette.background.default : '#FFFFFF',\n        color: theme.palette.text.primary\n    }\n});\n\nclass InactivePage extends React.Component {\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <>\n                <div className='header-wrapper' />\n                <div className={classNames(classes.page, 'page')}>\n                    <AppInactiveControl />\n                </div>\n                <Footer />\n            </>\n        );\n    }\n}\n\nInactivePage.propTypes = {};\n\nexport default withStyles(styles)(InactivePage);","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Footer from './Components/Footer';\n\nconst styles = theme => ({\n    page: {\n        background: theme.palette.type === 'dark' ? theme.palette.background.default : '#FFFFFF',\n        color: theme.palette.text.primary\n    }\n});\n\nclass StubPage extends React.Component {\n    render() {\n        const { classes, title } = this.props;\n\n        return (\n            <>\n                <div className='header-wrapper' />\n                <div className={classNames(classes.page, 'page')}>\n                    {title}\n                </div>\n                <Footer />\n            </>\n        );\n    }\n}\n\nStubPage.propTypes = {\n    title: PropTypes.string\n};\n\nexport default withStyles(styles)(StubPage);","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Cookies from 'universal-cookie';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport packageJson from '../package.json';\nimport withLanguage from './Language';\nimport withTheme from './Theme';\nimport AuthFormControl from './Components/Auth/AuthFormControl';\nimport InactivePage from './InactivePage';\nimport StubPage from './StubPage';\nimport registerServiceWorker from './registerServiceWorker';\nimport { FIRST_START_OPTIMIZATIONS } from './Constants';\nimport ChatStore from './Stores/ChatStore';\nimport UserStore from './Stores/UserStore';\nimport ApplicationStore from './Stores/ApplicationStore';\nimport TdLibController from './Controllers/TdLibController';\nimport './TelegramApp.css';\n\n//import MainPage from './MainPage';\nconst MainPage = React.lazy(() => import('./MainPage'));\n\nconst styles = theme => ({\n    '@global': {\n        a: {\n            color: theme.palette.primary.main\n        },\n        code: {\n            color: theme.palette.primary.dark\n        }\n    }\n});\n\nclass TelegramApp extends Component {\n    constructor(props) {\n        super(props);\n\n        console.log(`Start Telegram Web ${packageJson.version}`);\n\n        this.state = {\n            authorizationState: null,\n            inactive: false,\n            fatalError: false,\n        };\n    }\n\n    componentWillMount() {\n        const { location } = this.props;\n\n        TdLibController.init(location);\n    }\n\n    componentDidMount() {\n        TdLibController.addListener('update', this.onUpdate);\n\n        ApplicationStore.on('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.on('clientUpdateAppInactive', this.onClientUpdateAppInactive);\n        ApplicationStore.on('updateFatalError', this.onUpdateFatalError);\n    }\n\n    componentWillUnmount() {\n        TdLibController.removeListener('update', this.onUpdate);\n\n        ApplicationStore.removeListener('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.removeListener('clientUpdateAppInactive', this.onClientUpdateAppInactive);\n        ApplicationStore.removeListener('updateFatalError', this.onUpdateFatalError);\n    }\n\n    onUpdate = update => {\n        if (FIRST_START_OPTIMIZATIONS) {\n            if (!this.checkServiceWorker) {\n                this.checkServiceWorker = true;\n\n                const cookieEnabled = navigator.cookieEnabled;\n                if (cookieEnabled) {\n                    const cookies = new Cookies();\n                    const register = cookies.get('register');\n                    if (!register) {\n                        registerServiceWorker();\n                    }\n                }\n            }\n        }\n    };\n\n    onUpdateFatalError = update => {\n        this.setState({ fatalError: true });\n    };\n\n    onUpdateAuthorizationState = update => {\n        const { authorization_state } = update;\n\n        this.setState({ authorizationState: authorization_state });\n\n        if (!window.hasFocus) return;\n        if (!authorization_state) return;\n        if (authorization_state['@type'] !== 'authorizationStateReady') return;\n\n        TdLibController.send({\n            '@type': 'setOption',\n            name: 'online',\n            value: { '@type': 'optionValueBoolean', value: true }\n        });\n    };\n\n    onClientUpdateAppInactive = update => {\n        this.setState({ inactive: true });\n    };\n\n    handleChangePhone = () => {\n        this.setState({\n            authorizationState: { '@type': 'authorizationStateWaitPhoneNumber' }\n        });\n    };\n\n    handleDragOver = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    handleDrop = event => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    handleRefresh = () => {\n        this.setState({ fatalError: false });\n        window.location.reload();\n    };\n\n    handleDestroy = () => {\n        this.setState({ fatalError: false });\n        TdLibController.send({ '@type': 'destroy' });\n    };\n\n    handleKeyDown = event => {\n        //console.log('KeyDown', event);\n    };\n\n    render() {\n        const {\n            inactive,\n            authorizationState,\n            fatalError\n        } = this.state;\n\n        let page = <StubPage title='Compiling...'/>;\n\n        if (inactive) {\n            page = <InactivePage/>;\n        } else if (authorizationState) {\n            switch (authorizationState['@type']) {\n                case 'authorizationStateClosed':\n                case 'authorizationStateClosing':\n                case 'authorizationStateLoggingOut':\n                case 'authorizationStateReady': {\n                    page = <React.Suspense fallback={<StubPage title='Suspense'/>}><MainPage/></React.Suspense>;\n                    break;\n                }\n                case 'authorizationStateWaitCode':\n                case 'authorizationStateWaitPassword':\n                case 'authorizationStateWaitPhoneNumber':\n                    page = (\n                        <AuthFormControl\n                            authorizationState={authorizationState}\n                            onChangePhone={this.handleChangePhone}\n                        />\n                    );\n                    break;\n                case 'authorizationStateWaitEncryptionKey': {\n                    break;\n                }\n                case 'authorizationStateWaitTdlibParameters': {\n                    break;\n                }\n            }\n        }\n\n        return (\n            <div id='app' onDragOver={this.handleDragOver} onDrop={this.handleDrop} onKeyDown={this.handleKeyDown}>\n                {page}\n                <Dialog\n                    transitionDuration={0}\n                    open={fatalError}\n                    onClose={this.handleRefresh}\n                    aria-labelledby='fatal-error-dialog-title'\n                    aria-describedby='fatal-error-dialog-description'>\n                    <DialogTitle id='fatal-error-dialog-title'>Telegram</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id='fatal-error-dialog-description'>\n                            Oops! Something went wrong. We need to refresh this page.\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleDestroy} color='primary'>\n                            Log out\n                        </Button>\n                        <Button onClick={this.handleRefresh} color='primary' autoFocus>\n                            Refresh\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nconst keyMap = new Map();\nwindow.keyMap = keyMap;\n\nasync function openPinnedChat(index) {\n    const chats = await TdLibController.send({\n        '@type': 'getChats',\n        offset_order: '9223372036854775807',\n        offset_chat_id: 0,\n        limit: 10\n    });\n\n    if (chats) {\n        let pinnedIndex = -1;\n        for (let i = 0; i < chats.chat_ids.length; i++) {\n            const chat = ChatStore.get(chats.chat_ids[i]);\n            if (chat && chat.is_pinned) {\n                pinnedIndex++;\n            }\n\n            if (pinnedIndex === index) {\n                TdLibController.setChatId(chat.id);\n                return;\n            }\n        }\n    }\n}\n\ndocument.addEventListener('keyup', event => {\n    keyMap.delete(event.key);\n    //console.log('keyup key=' + event.key, keyMap);\n});\n\ndocument.addEventListener('keydown', async event => {\n    keyMap.set(event.key, event.key);\n    //console.log('keydown key=' + event.key, event.altKey, event.ctrlKey, event, keyMap);\n\n    const { authorizationState } = ApplicationStore;\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n    if (keyMap.size > 3) return;\n\n    if (event.altKey && event.ctrlKey) {\n        switch (event.key) {\n            case '0': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                const chat = await TdLibController.send({\n                    '@type': 'createPrivateChat',\n                    user_id: UserStore.getMyId(),\n                    force: true\n                });\n\n                if (chat) {\n                    TdLibController.setChatId(chat.id);\n                }\n                break;\n            }\n            case '1': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(0);\n                break;\n            }\n            case '2': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(1);\n                break;\n            }\n            case '3': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(2);\n                break;\n            }\n            case '4': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(3);\n                break;\n            }\n            case '5': {\n                event.preventDefault();\n                event.stopPropagation();\n\n                openPinnedChat(4);\n                break;\n            }\n        }\n    }\n});\n\nwindow.hasFocus = true;\n\n// set offline on page lost focus\nwindow.onblur = function() {\n    keyMap.clear();\n    //console.log('window.blur key', keyMap);\n\n    const { authorizationState } = ApplicationStore;\n\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n\n    window.hasFocus = false;\n\n    TdLibController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: false\n    });\n};\n\n// set online on page get focus\nwindow.onfocus = function() {\n    keyMap.clear();\n    //console.log('window.focus key', keyMap);\n    const { authorizationState } = ApplicationStore;\n\n    if (!authorizationState) return;\n    if (authorizationState['@type'] !== 'authorizationStateReady') return;\n\n    window.hasFocus = true;\n\n    TdLibController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: true\n    });\n};\n\n// disable back navigation\nwindow.history.pushState(null, null, window.location.href);\nwindow.onpopstate = function() {\n    window.history.go(1);\n};\n\nconst enhance = compose(\n    withLanguage,\n    withTheme,\n    withStyles(styles)\n);\n\nexport default enhance(TelegramApp);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport TelegramApp from './TelegramApp';\nimport registerServiceWorker from './registerServiceWorker';\nimport Cookies from 'universal-cookie';\nimport { FIRST_START_OPTIMIZATIONS } from './Constants';\nimport './index.css';\n\nReactDOM.render(\n    <Router>\n        <Route path='' component={TelegramApp} />\n    </Router>,\n    document.getElementById('root')\n);\n\nif (FIRST_START_OPTIMIZATIONS) {\n    const cookieEnabled = navigator.cookieEnabled;\n    if (cookieEnabled) {\n        const cookies = new Cookies();\n        const register = cookies.get('register');\n        if (register) {\n            registerServiceWorker();\n        }\n    } else {\n        registerServiceWorker();\n    }\n} else {\n    registerServiceWorker();\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { formatNumber } from 'libphonenumber-js';\nimport { PHOTO_SIZE, PHOTO_THUMBNAIL_SIZE } from '../Constants';\n\nfunction getOSName() {\n    let OSName = 'Unknown';\n    if (window.navigator.userAgent.indexOf('Windows NT 10.0') != -1) OSName = 'Windows 10';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.2') != -1) OSName = 'Windows 8';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.1') != -1) OSName = 'Windows 7';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.0') != -1) OSName = 'Windows Vista';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.1') != -1) OSName = 'Windows XP';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.0') != -1) OSName = 'Windows 2000';\n    if (window.navigator.userAgent.indexOf('Mac') != -1) OSName = 'Mac/iOS';\n    if (window.navigator.userAgent.indexOf('X11') != -1) OSName = 'UNIX';\n    if (window.navigator.userAgent.indexOf('Linux') != -1) OSName = 'Linux';\n\n    return OSName;\n}\n\nfunction getBrowser() {\n    let browser_name = '';\n    let isIE = /*@cc_on!@*/ false || !!document.documentMode;\n    let isEdge = !isIE && !!window.StyleMedia;\n    if (navigator.userAgent.indexOf('Chrome') != -1 && !isEdge) {\n        browser_name = 'Chrome';\n    } else if (navigator.userAgent.indexOf('Safari') != -1 && !isEdge) {\n        browser_name = 'Safari';\n    } else if (navigator.userAgent.indexOf('Firefox') != -1) {\n        browser_name = 'Firefox';\n    } else if (navigator.userAgent.indexOf('MSIE') != -1 || !!document.documentMode == true) {\n        //IF IE > 10\n        browser_name = 'IE';\n    } else if (isEdge) {\n        browser_name = 'Edge';\n    } else {\n        browser_name = 'Unknown';\n    }\n\n    return browser_name;\n}\n\nfunction isValidPhoneNumber(phoneNumber) {\n    if (!phoneNumber) return false;\n\n    let isBad = !phoneNumber.match(/^[\\d\\-+\\s]+$/);\n    if (!isBad) {\n        phoneNumber = phoneNumber.replace(/\\D/g, '');\n        if (phoneNumber.length < 7) {\n            isBad = true;\n        }\n    }\n\n    return !isBad;\n}\n\nfunction stringToBoolean(string) {\n    switch (string.toLowerCase().trim()) {\n        case 'true':\n        case 'yes':\n        case '1':\n            return true;\n        case 'false':\n        case 'no':\n        case '0':\n        case null:\n            return false;\n        default:\n            return Boolean(string);\n    }\n}\n\nfunction orderCompare(order1, order2) {\n    let diff = order1.length - order2.length;\n    if (diff !== 0) return diff < 0 ? -1 : 1;\n    if (order1 === order2) return 0;\n\n    return order1 > order2 ? 1 : -1;\n}\n\nfunction getPhotoThumbnailSize(sizes) {\n    return getSize(sizes, PHOTO_THUMBNAIL_SIZE);\n}\n\nfunction getPhotoSize(sizes) {\n    return getSize(sizes, PHOTO_SIZE);\n}\n\nfunction getSize(sizes, dimension) {\n    if (!sizes) return null;\n    if (sizes.length === 0) return null;\n    if (dimension === 0) return null;\n\n    // let iSize = sizes[2];//.find(x => x.type === 'i');\n    // if (iSize){\n    //     return iSize;\n    // }\n\n    let useWidth = sizes[0].width >= sizes[0].height;\n    let diff = Math.abs(dimension - (useWidth ? sizes[0].width : sizes[0].height));\n    let index = 0;\n    for (let i = 1; i < sizes.length; i++) {\n        if (sizes[i].type === 'i' && !sizes[i].photo.local.is_downloading_completed) {\n            continue;\n        }\n\n        let currDiff = Math.abs(dimension - (useWidth ? sizes[i].width : sizes[i].height));\n        if (currDiff < diff) {\n            index = i;\n            currDiff = diff;\n        }\n    }\n\n    return sizes[index];\n}\n\nfunction getFitSize(size, max, increaseToMax = true) {\n    if (!size) return { width: 0, height: 0 };\n\n    if (!increaseToMax) {\n        if (size.width < max && size.height < max) {\n            return size;\n        }\n    }\n\n    if (size.width > size.height) {\n        return { width: max, height: Math.floor((size.height * max) / size.width) };\n    }\n\n    return { width: Math.floor((size.width * max) / size.height), height: max };\n}\n\nfunction itemsInView(scrollContainerRef, itemsContainerRef) {\n    let scrollContainer = scrollContainerRef.current;\n    let itemsContainer = itemsContainerRef ? itemsContainerRef.current : scrollContainer;\n\n    const items = [];\n    for (let i = 0; i < itemsContainer.children.length; i++) {\n        let child = itemsContainer.children[i];\n        if (\n            child.offsetTop + child.offsetHeight >= scrollContainer.scrollTop &&\n            child.offsetTop <= scrollContainer.scrollTop + scrollContainer.offsetHeight\n        ) {\n            items.push(i);\n        }\n    }\n\n    return items;\n}\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nfunction throttle(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this,\n            args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\n\nfunction getFirstLetter(str) {\n    if (!str) return '';\n    for (let i = 0; i < str.length; i++) {\n        if (str[i].toUpperCase() !== str[i].toLowerCase()) {\n            return str[i];\n        } else if (str[i] >= '0' && str[i] <= '9') {\n            return str[i];\n        }\n    }\n\n    return '';\n}\n\nfunction getLetters(title) {\n    if (!title) return null;\n    if (title.length === 0) return null;\n\n    let split = title.split(' ');\n    if (split.length > 1) {\n        return getFirstLetter(split[0]) + getFirstLetter(split[1]);\n    }\n\n    return null;\n}\n\nfunction readImageSize(file, callback) {\n    let useBlob = false;\n    // Create a new FileReader instance\n    // https://developer.mozilla.org/en/docs/Web/API/FileReader\n    var reader = new FileReader();\n\n    // Once a file is successfully readed:\n    reader.addEventListener('load', function() {\n        // At this point `reader.result` contains already the Base64 Data-URL\n        // and we've could immediately show an image using\n        // `elPreview.insertAdjacentHTML(\"beforeend\", \"<img src='\"+ reader.result +\"'>\");`\n        // But we want to get that image's width and height px values!\n        // Since the File Object does not hold the size of an image\n        // we need to create a new image and assign it's src, so when\n        // the image is loaded we can calculate it's width and height:\n        var image = new Image();\n        image.addEventListener('load', function() {\n            // Concatenate our HTML image info\n            // var imageInfo = file.name    +' '+ // get the value of `name` from the `file` Obj\n            //     image.width  +'×'+ // But get the width from our `image`\n            //     image.height +' '+\n            //     file.type    +' '+\n            //     Math.round(file.size/1024) +'KB';\n\n            //alert(imageInfo);\n            file.photoWidth = image.width;\n            file.photoHeight = image.height;\n            // Finally append our created image and the HTML info string to our `#preview`\n            //elPreview.appendChild( this );\n            //elPreview.insertAdjacentHTML(\"beforeend\", imageInfo +'<br>');\n\n            // If we set the variable `useBlob` to true:\n            // (Data-URLs can end up being really large\n            // `src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA...........etc`\n            // Blobs are usually faster and the image src will hold a shorter blob name\n            // src=\"blob:http%3A//example.com/2a303acf-c34c-4d0a-85d4-2136eef7d723\"\n            if (useBlob) {\n                // Free some memory for optimal performance\n                window.URL.revokeObjectURL(image.src);\n            }\n\n            callback(file);\n        });\n\n        image.src = useBlob ? window.URL.createObjectURL(file) : reader.result;\n    });\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n    reader.readAsDataURL(file);\n}\n\nfunction formatPhoneNumber(number) {\n    const unformattedNumber = number && number.startsWith('+') ? number : '+' + number;\n    const formattedNumber = formatNumber(unformattedNumber, 'International');\n    return formattedNumber || unformattedNumber;\n}\n\n/**\n * use this to make a Base64 encoded string URL friendly,\n * i.e. '+' and '/' are replaced with '-' and '_' also any trailing '='\n * characters are removed\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64EncodeUrl(str) {\n    return str\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/\\=+$/, '');\n}\n\n/**\n * Use this to recreate a Base64 encoded string that was made URL friendly\n * using Base64EncodeurlFriendly.\n * '-' and '_' are replaced with '+' and '/' and also it is padded with '+'\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64DecodeUrl(str) {\n    str = (str + '===').slice(0, str.length + (str.length % 4));\n    return str.replace(/-/g, '+').replace(/_/g, '/');\n}\n\nfunction arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return Base64EncodeUrl(window.btoa(binary));\n}\n\nfunction isAuthorizationReady(state) {\n    if (!state) return false;\n\n    return state['@type'] === 'authorizationStateReady';\n}\n\nfunction between(item, first, last) {\n    return item > first && item < last;\n}\n\nfunction getDurationString(secondsTotal) {\n    let hours = Math.floor(secondsTotal / 3600);\n    let minutes = Math.floor((secondsTotal - hours * 3600) / 60);\n    let seconds = secondsTotal - hours * 3600 - minutes * 60;\n\n    if (hours > 0 && minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n\n    return (hours > 0 ? hours + ':' : '') + minutes + ':' + seconds;\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n}\n\nexport {\n    getBrowser,\n    getOSName,\n    isValidPhoneNumber,\n    stringToBoolean,\n    orderCompare,\n    getSize,\n    getPhotoThumbnailSize,\n    getPhotoSize,\n    getFitSize,\n    itemsInView,\n    throttle,\n    debounce,\n    getLetters,\n    readImageSize,\n    formatPhoneNumber,\n    arrayBufferToBase64,\n    isAuthorizationReady,\n    between,\n    getDurationString,\n    getRandomInt\n};\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport packageJson from '../../package.json';\nimport { stringToBoolean, getBrowser, getOSName } from '../Utils/Common';\nimport { VERBOSITY_JS_MAX, VERBOSITY_JS_MIN, VERBOSITY_MAX, VERBOSITY_MIN } from '../Constants';\nimport TdClient from '@arseny30/tdweb/dist/tdweb';\n\nclass TdLibController extends EventEmitter {\n    constructor() {\n        super();\n\n        this.parameters = {\n            useTestDC: false,\n            readOnly: false,\n            verbosity: 1,\n            jsVerbosity: 3,\n            fastUpdating: true,\n            useDatabase: false,\n            mode: 'wasm'\n        };\n\n        this.disableLog = false;\n\n        this.setMaxListeners(Infinity);\n    }\n\n    init = location => {\n        this.setParameters(location);\n\n        const { verbosity, jsVerbosity, useTestDC, readOnly, fastUpdating, useDatabase, mode } = this.parameters;\n\n        let options = {\n            logVerbosityLevel: verbosity,\n            jsLogVerbosityLevel: jsVerbosity,\n            mode: mode, // 'wasm-streaming'/'wasm'/'asmjs'\n            prefix: useTestDC ? 'tdlib_test' : 'tdlib',\n            readOnly: readOnly,\n            isBackground: false,\n            useDatabase: useDatabase\n            // onUpdate: update => this.emit('update', update)\n        };\n\n        console.log(\n            `[TdLibController] (fast_updating=${fastUpdating}) Start client with params=${JSON.stringify(options)}`\n        );\n\n        this.client = new TdClient(options);\n        this.client.onUpdate = update => {\n            if (!this.disableLog) {\n                if (update['@type'] === 'updateFile') {\n                    console.log('receive updateFile file_id=' + update.file.id, update);\n                } else {\n                    console.log('receive update', update);\n                }\n            }\n            this.emit('update', update);\n        };\n    };\n\n    clientUpdate = update => {\n        if (!this.disableLog) {\n            console.log('clientUpdate', update);\n        }\n        this.emit('clientUpdate', update);\n    };\n\n    setParameters = location => {\n        if (!location) return;\n\n        const { search } = location;\n        if (!search) return;\n\n        const params = new URLSearchParams(search.toLowerCase());\n\n        if (params.has('test')) {\n            this.parameters.useTestDC = stringToBoolean(params.get('test'));\n        }\n\n        if (params.has('verbosity')) {\n            const verbosity = parseInt(params.get('verbosity'), 10);\n            if (verbosity >= VERBOSITY_MIN && verbosity <= VERBOSITY_MAX) {\n                this.parameters.verbosity = verbosity;\n            }\n        }\n\n        if (params.has('jsverbosity')) {\n            const jsVerbosity = parseInt(params.get('jsverbosity'), 10);\n            if (jsVerbosity >= VERBOSITY_JS_MIN && jsVerbosity <= VERBOSITY_JS_MAX) {\n                this.parameters.jsVerbosity = jsVerbosity;\n            }\n        }\n\n        if (params.has('tag') && params.has('tagverbosity')) {\n            const tag = params\n                .get('tag')\n                .replace('[', '')\n                .replace(']', '')\n                .split(',');\n            const tagVerbosity = params\n                .get('tagverbosity')\n                .replace('[', '')\n                .replace(']', '')\n                .split(',');\n            if (tag && tagVerbosity && tag.length === tagVerbosity.length) {\n                this.parameters.tag = tag;\n                this.parameters.tagVerbosity = tagVerbosity;\n            }\n        }\n\n        if (params.has('readonly')) {\n            this.parameters.readOnly = stringToBoolean(params.get('readonly'));\n        }\n\n        if (params.has('fastupdating')) {\n            this.parameters.fastUpdating = stringToBoolean(params.get('fastupdating'));\n        }\n\n        if (params.has('db')) {\n            this.parameters.useDatabase = stringToBoolean(params.get('db'));\n        }\n        if (params.has('mode')) {\n            this.parameters.mode = params.get('mode');\n        }\n    };\n\n    send = request => {\n        if (!this.disableLog) {\n            console.log('send', request);\n            return this.client.send(request).then(result => {\n                console.log('receive', result);\n                return result;\n            });\n        } else {\n            return this.client.send(request);\n        }\n    };\n\n    sendTdParameters = async () => {\n        const apiId = process.env.REACT_APP_TELEGRAM_API_ID;\n        const apiHash = process.env.REACT_APP_TELEGRAM_API_HASH;\n\n        if (!apiId || !apiHash) {\n            if (\n                window.confirm(\n                    'API id is missing!\\n' +\n                        'In order to obtain an API id and develop your own application ' +\n                        'using the Telegram API please visit https://core.telegram.org/api/obtaining_api_id'\n                )\n            ) {\n                window.location.href = 'https://core.telegram.org/api/obtaining_api_id';\n            }\n        }\n\n        const { useTestDC } = this.parameters;\n        const { version } = packageJson;\n\n        this.send({\n            '@type': 'setTdlibParameters',\n            parameters: {\n                '@type': 'tdParameters',\n                use_test_dc: useTestDC,\n                api_id: apiId,\n                api_hash: apiHash,\n                system_language_code: navigator.language || 'en',\n                device_model: getBrowser(),\n                system_version: getOSName(),\n                application_version: version,\n                use_secret_chats: false,\n                use_message_database: true,\n                use_file_database: false,\n                database_directory: '/db',\n                files_directory: '/'\n            }\n            // ,\n            // extra: {\n            //     a: ['a', 'b'],\n            //     b: 123\n            // }\n        });\n\n        if (this.parameters.tag && this.parameters.tagVerbosity) {\n            for (let i = 0; i < this.parameters.tag.length; i++) {\n                let tag = this.parameters.tag[i];\n                let tagVerbosity = this.parameters.tagVerbosity[i];\n\n                this.send({\n                    '@type': 'setLogTagVerbosityLevel',\n                    tag: tag,\n                    new_verbosity_level: tagVerbosity\n                });\n            }\n        }\n    };\n\n    logOut() {\n        this.send({ '@type': 'logOut' }).catch(error => {\n            this.emit('tdlib_auth_error', error);\n        });\n    }\n\n    setChatId = (chatId, messageId = null) => {\n        const update = {\n            '@type': 'clientUpdateChatId',\n            chatId: chatId,\n            messageId: messageId\n        };\n\n        this.clientUpdate(update);\n    };\n\n    setMediaViewerContent(content) {\n        this.clientUpdate({\n            '@type': 'clientUpdateMediaViewerContent',\n            content: content\n        });\n    }\n}\n\nconst controller = new TdLibController();\n\nexport default controller;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass OptionStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateOption':\n                this.items.set(update.name, update.value);\n\n                this.emit('updateOption', update);\n                break;\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {};\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    get(name) {\n        return this.items.get(name);\n    }\n}\n\nconst store = new OptionStore();\nwindow.option = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { arrayBufferToBase64 } from './Utils/Common';\nimport Cookies from 'universal-cookie';\nimport { FIRST_START_OPTIMIZATIONS } from './Constants';\nimport ApplicationStore from './Stores/ApplicationStore';\nimport TdLibController from './Controllers/TdLibController';\n\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport default async function register() {\n    console.log('[SW] Register');\n\n    if (FIRST_START_OPTIMIZATIONS) {\n        const cookies = new Cookies();\n        cookies.set('register', true);\n    }\n\n    if ('serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return;\n        }\n\n        const serviceWorkerName =\n            process.env.NODE_ENV === 'production' ? 'service-worker.js' : 'custom-service-worker.js';\n        const swUrl = `${process.env.PUBLIC_URL}/${serviceWorkerName}`;\n        console.log(`[SW] Service worker url: ${swUrl}`);\n\n        if (!isLocalhost) {\n            // Is not local host. Just register service worker\n            await registerValidSW(swUrl);\n        } else {\n            // This is running on localhost. Lets check if a service worker still exists or not.\n            await checkValidServiceWorker(swUrl);\n        }\n    }\n}\n\nasync function registerValidSW(swUrl) {\n    console.log('[SW] RegisterValidSW');\n    try {\n        const registration = await navigator.serviceWorker.register(swUrl);\n        registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n                if (installingWorker.state === 'installed') {\n                    if (navigator.serviceWorker.controller) {\n                        // At this point, the old content will have been purged and\n                        // the fresh content will have been added to the cache.\n                        // It's the perfect time to display a \"New content is\n                        // available; please refresh.\" message in your web app.\n                        console.log('[SW] New content is available; please refresh.');\n\n                        ApplicationStore.emit('clientUpdateNewContentAvailable');\n                    } else {\n                        // At this point, everything has been precached.\n                        // It's the perfect time to display a\n                        // \"Content is cached for offline use.\" message.\n                        console.log('[SW] Content is cached for offline use.');\n                    }\n                }\n            };\n        };\n\n        await subscribeNotifications(registration);\n    } catch (error) {\n        console.error('[SW] Error during service worker registration: ', error);\n    }\n}\n\nasync function subscribeNotifications(registration) {\n    try {\n        let pushSubscription = await registration.pushManager.getSubscription();\n        if (pushSubscription) await pushSubscription.unsubscribe();\n\n        pushSubscription = await registration.pushManager.subscribe({ userVisibleOnly: true });\n        console.log('[SW] Received PushSubscription: ', JSON.stringify(pushSubscription));\n\n        const { endpoint } = pushSubscription;\n        const p256dh_base64url = arrayBufferToBase64(pushSubscription.getKey('p256dh'));\n        const auth_base64url = arrayBufferToBase64(pushSubscription.getKey('auth'));\n\n        if (endpoint && p256dh_base64url && auth_base64url) {\n            const { authorizationState } = ApplicationStore;\n            if (authorizationState && authorizationState['@type'] === 'authorizationStateReady') {\n                await TdLibController.send({\n                    '@type': 'registerDevice',\n                    device_token: {\n                        '@type': 'deviceTokenWebPush',\n                        endpoint: endpoint,\n                        p256dh_base64url: p256dh_base64url,\n                        auth_base64url: auth_base64url\n                    },\n                    other_user_ids: []\n                });\n            }\n        }\n    } catch (error) {\n        console.error('[SW] Error during service worker push subscription: ', error);\n    }\n}\n\nasync function checkValidServiceWorker(swUrl) {\n    console.log('[SW] CheckValidServiceWorker');\n    // Check if the service worker can be found. If it can't reload the page.\n    try {\n        const response = await fetch(swUrl);\n\n        // Ensure service worker exists, and that we really are getting a JS file.\n        if (response.status === 404 || response.headers.get('content-type').indexOf('javascript') === -1) {\n            // No service worker found. Probably a different app. Reload the page.\n            const registration = await navigator.serviceWorker.ready;\n            await registration.unregister();\n\n            window.location.reload();\n        } else {\n            // Service worker found. Proceed as normal.\n            await registerValidSW(swUrl);\n        }\n    } catch (error) {\n        console.log('[SW] No internet connection found. App is running in offline mode.');\n    }\n}\n\nexport async function unregister() {\n    if ('serviceWorker' in navigator) {\n        let registration = await navigator.serviceWorker.ready;\n\n        await registration.unregister();\n    }\n}\n\nexport async function update() {\n    if ('serviceWorker' in navigator) {\n        let registration = await navigator.serviceWorker.ready;\n\n        await registration.update();\n    }\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport OptionStore from '../Stores/OptionStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass UserStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.items = new Map();\n        this.fullInfoItems = new Map();\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateUser': {\n                this.set(update.user);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateUserFullInfo':\n                this.setFullInfo(update.user_id, update.user_full_info);\n\n                this.emit(update['@type'], update);\n                break;\n            case 'updateUserStatus': {\n                let user = this.get(update.user_id);\n                if (user) {\n                    this.assign(user, { status: update.status });\n                }\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateOpenUser': {\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    assign(source1, source2) {\n        Object.assign(source1, source2);\n        //this.set(Object.assign({}, source1, source2));\n    }\n\n    getMyId() {\n        const myId = OptionStore.get('my_id');\n        if (!myId) return null;\n        if (!myId.value) return null;\n\n        return myId.value;\n    }\n\n    get(userId) {\n        return this.items.get(userId);\n    }\n\n    set(user) {\n        this.items.set(user.id, user);\n    }\n\n    getFullInfo(id) {\n        return this.fullInfoItems.get(id);\n    }\n\n    setFullInfo(id, fullInfo) {\n        this.fullInfoItems.set(id, fullInfo);\n    }\n}\n\nconst store = new UserStore();\nwindow.user = store;\nexport default store;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\n\nexport function withSaveRef() {\n    return Component => {\n        return React.forwardRef((props, ref) => <Component {...props} forwardedRef={ref} />);\n    };\n}\n\nexport function withRestoreRef() {\n    return Component => {\n        return class extends React.Component {\n            render() {\n                const { forwardedRef, ...rest } = this.props;\n\n                return <Component {...rest} ref={forwardedRef} />;\n            }\n        };\n    };\n}\n\nexport function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport Cookies from 'universal-cookie';\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport LocalStorageBackend from 'i18next-localstorage-backend';\nimport { initReactI18next } from 'react-i18next';\nimport TdLibController from '../Controllers/TdLibController';\n\nconst defaultLanguage = 'en';\nconst defaultNamespace = 'translation';\nconst cookies = new Cookies();\nconst language = cookies.get('i18next') || defaultLanguage;\n\n// const detection = {\n//     // order and from where user language should be detected\n//     order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n//\n//     // keys or params to lookup language from\n//     lookupQuerystring: 'lng',\n//     lookupCookie: 'i18next',\n//     lookupLocalStorage: 'i18nextLng',\n//     lookupFromPathIndex: 0,\n//     lookupFromSubdomainIndex: 0,\n//\n//     // cache user language on\n//     caches: ['localStorage', 'cookie']\n// };\n\ni18n.use(initReactI18next) //.use(LanguageDetector) // passes i18n down to react-i18next\n    .init({\n        //detection: detection,\n        ns: [defaultNamespace, 'local'],\n        defaultNS: defaultNamespace,\n        fallbackNS: ['local', 'emoji'],\n        resources: {\n            en: {\n                local: {\n                    DeletedMessage: 'Deleted message',\n                    YourPhone: 'Your Phone',\n                    StartText: 'Please confirm your country code and enter your phone number.',\n                    Next: 'Next',\n                    InvalidPhoneNumber: 'Invalid phone number. Please check the number and try again.',\n                    More: 'More',\n                    SendMessage: 'Send Message',\n                    ChatInfo: 'Chat Info',\n                    ChannelInfo: 'Channel Info'\n                },\n                emoji: {\n                    Search: 'Search',\n                    NotEmojiFound: 'No Emoji Found',\n                    ChooseDefaultSkinTone: 'Choose your default skin tone',\n                    SearchResults: 'Search Results',\n                    Recent: 'Frequently Used',\n                    SmileysPeople: 'Smileys & People',\n                    AnimalsNature: 'Animals & Nature',\n                    FoodDrink: 'Food & Drink',\n                    Activity: 'Activity',\n                    TravelPlaces: 'Travel & Places',\n                    Objects: 'Objects',\n                    Symbols: 'Symbols',\n                    Flags: 'Flags',\n                    Custom: 'Custom'\n                },\n                translation: {\n                    AppName: 'Telegram',\n                    Loading: 'Loading',\n                    Connecting: 'Connecting',\n                    Updating: 'Updating'\n                }\n            },\n            ru: {\n                local: {\n                    DeletedMessage: 'Удаленное сообщение',\n                    YourPhone: 'Ваш телефон',\n                    StartText: 'Пожалуйста, укажите код страны и свой номер телефона.',\n                    Next: 'Далее',\n                    InvalidPhoneNumber:\n                        'Некорректный номер телефона. Пожалуйста, проверьте номер и попробуйте ещё раз.',\n                    More: 'Ещё',\n                    SendMessage: 'Отправить сообщение',\n                    ChatInfo: 'Информация о чате',\n                    ChannelInfo: 'Информация о канале'\n                },\n                emoji: {\n                    Search: 'Поиск',\n                    NotEmojiFound: 'Емодзи не найдены',\n                    ChooseDefaultSkinTone: 'Выберите тон кожи по умолчанию',\n                    SearchResults: 'Результаты поиска',\n                    Recent: 'Часто используемые',\n                    SmileysPeople: 'Смайлики и люди',\n                    AnimalsNature: 'Животные и природа',\n                    FoodDrink: 'Еда и напитки',\n                    Activity: 'Активность',\n                    TravelPlaces: 'Путешествия и местности',\n                    Objects: 'Предметы',\n                    Symbols: 'Символы',\n                    Flags: 'Флаги',\n                    Custom: 'Пользовательские'\n                },\n                translation: {\n                    AppName: 'Телеграм',\n                    Loading: 'Загрузка',\n                    Connecting: 'Соединение',\n                    Updating: 'Обновление'\n                }\n            }\n        },\n        lng: language,\n        fallbackLng: defaultLanguage,\n        interpolation: {\n            escapeValue: false\n        },\n        react: {\n            wait: false\n        }\n    });\n\nconst cache = new LocalStorageBackend(null, {\n    enabled: true,\n    prefix: 'i18next_res_',\n    expirationTime: Infinity\n});\n\nconst translationDefaultLng = cache.read(defaultLanguage, defaultNamespace, (err, data) => {\n    return data;\n});\nconst translationCurrentLng = cache.read(language, defaultNamespace, (err, data) => {\n    return data;\n});\ni18n.addResourceBundle(defaultLanguage, defaultNamespace, translationDefaultLng);\ni18n.addResourceBundle(language, defaultNamespace, translationCurrentLng);\n\nclass LocalizationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.i18n = i18n;\n        this.cache = cache;\n\n        this.setMaxListeners(Infinity);\n        this.addTdLibListener();\n    }\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                switch (update.authorization_state['@type']) {\n                    case 'authorizationStateWaitTdlibParameters':\n                        TdLibController.send({\n                            '@type': 'setOption',\n                            name: 'localization_target',\n                            value: { '@type': 'optionValueString', value: 'android' }\n                        });\n                        TdLibController.send({\n                            '@type': 'setOption',\n                            name: 'language_pack_id',\n                            value: { '@type': 'optionValueString', value: language }\n                        });\n                        TdLibController.send({\n                            '@type': 'getLocalizationTargetInfo',\n                            only_local: false\n                        }).then(result => {\n                            this.info = result;\n\n                            TdLibController.clientUpdate({\n                                '@type': 'clientUpdateLanguageChange',\n                                language: language\n                            });\n                        });\n                        break;\n                }\n                break;\n            }\n            case 'updateLanguagePackStrings': {\n                // add/remove new strings\n\n                this.emit('updateLanguagePackStrings', update);\n                break;\n            }\n        }\n    };\n\n    onClientUpdate = async update => {\n        switch (update['@type']) {\n            case 'clientUpdateLanguageChange': {\n                const { language } = update;\n\n                TdLibController.send({\n                    '@type': 'getLanguagePackStrings',\n                    language_pack_id: language,\n                    keys: []\n                }).then(async result => {\n                    const cookies = new Cookies();\n                    cookies.set('i18next', language);\n\n                    const resources = this.processStrings(language, result);\n\n                    this.cache.save(language, defaultNamespace, resources);\n\n                    i18n.addResourceBundle(language, defaultNamespace, resources);\n\n                    await i18n.changeLanguage(language);\n\n                    TdLibController.send({\n                        '@type': 'setOption',\n                        name: 'language_pack_id',\n                        value: { '@type': 'optionValueString', value: language }\n                    });\n\n                    this.emit('clientUpdateLanguageChange', update);\n                });\n                break;\n            }\n        }\n    };\n\n    processStrings = (lng, languagePackStrings) => {\n        if (!languagePackStrings) return {};\n        const { strings } = languagePackStrings;\n        if (!strings) return {};\n\n        let result = {};\n        for (let i = 0; i < strings.length; i++) {\n            const { value } = strings[i];\n            switch (value['@type']) {\n                case 'languagePackStringValueOrdinary': {\n                    result[strings[i].key] = value.value;\n                    break;\n                }\n                case 'languagePackStringValuePluralized': {\n                    //result[strings[i].key] = value.value;\n                    break;\n                }\n                case 'languagePackStringValueDeleted': {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    };\n\n    loadLanguage = async language => {\n        const result = await TdLibController.send({\n            '@type': 'getLanguagePackStrings',\n            language_pack_id: language,\n            keys: []\n        });\n\n        const resources = this.processStrings(language, result);\n\n        this.cache.save(language, defaultNamespace, resources);\n\n        i18n.addResourceBundle(language, defaultNamespace, resources);\n    };\n}\n\nconst store = new LocalizationStore();\nwindow.localization = store;\nexport default store;\n"],"sourceRoot":""}